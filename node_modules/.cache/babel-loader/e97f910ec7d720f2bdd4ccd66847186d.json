{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giorgi\\\\Desktop\\\\youtube_clone2\\\\src\\\\components\\\\CurrentVideo.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Youtube from \"../api/Youtube\";\nimport ThumbUpRoundedIcon from '@material-ui/icons/ThumbUpRounded';\nimport ThumbDownAltRoundedIcon from '@material-ui/icons/ThumbDownAltRounded';\nimport ReplySharpIcon from '@material-ui/icons/ReplySharp';\nimport PlaylistAddSharpIcon from '@material-ui/icons/PlaylistAddSharp';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CurrentVideo = _ref => {\n  _s();\n\n  let {\n    props\n  } = _ref;\n  const likeRef = useRef(null);\n  const closeRef = useRef(null);\n  const dislikeRef = useRef(null);\n  const saveRef = useRef(null);\n  const modalRef = useRef(null);\n  console.log(props, 'pr');\n  const [relatedVideos, setRelatedVideos] = useState([]);\n  const [currentVideo, setCurrentVideo] = useState(props.location.state.videoLink);\n  const [currentThumbnail, setCurrentThumbnail] = useState(props.location.state.thumbnailLink);\n  const [saveBool, setSaveBool] = useState(false);\n  const [open, setOpen] = useState(false);\n  const historyArray = JSON.parse(localStorage.getItem(\"watchHistory\"));\n  console.log(historyArray[0]);\n\n  if (!currentVideo || !currentThumbnail) {\n    setCurrentVideo(historyArray[0].videoLinks);\n    setCurrentThumbnail(historyArray[0].thumbnailLink);\n  }\n\n  useEffect(() => {\n    const getVal = async () => {\n      const res = await Youtube.get('/popular', {\n        params: {\n          per_page: 3\n        }\n      });\n      setRelatedVideos(res.data.videos);\n    };\n\n    getVal();\n  }, []);\n  useEffect(() => {\n    if (saveBool) {\n      watchLaterFun();\n    }\n  }, [saveBool]);\n\n  const relatedVideosList = () => {\n    return relatedVideos.map(video => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relatedFlex\",\n        onClick: () => selectVideo(video),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relatedFlex__img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: video.video_pictures[0].picture,\n            alt: \"video thumbnail\",\n            width: \"168\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"related__title\",\n            children: \"Title of this video is Lorem Ipsum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"related__channel\",\n            children: \"Lorem ipsum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"related__views__date\",\n            children: \"7.3M views \\u2022 9 months ago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, video.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  const skeletonList = () => {\n    let skeletonArray = [];\n\n    for (let i = 0; i < 3; i++) {\n      skeletonArray.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeletonFlex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeletonFlex__img\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeletonRelated\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"skeletonRelated__title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"skeletonRelated__channel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeletonRelated__views__date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this));\n    }\n\n    return skeletonArray;\n  };\n\n  let renderedRelatedVideos;\n\n  const selectVideo = video => {\n    let allLinks = {\n      'videoLinks': video.video_files[0].link,\n      'thumbnailLink': video.video_pictures[0].picture\n    };\n    let watchHistory = JSON.parse(localStorage.getItem(\"watchHistory\"));\n\n    if (watchHistory) {\n      let k = 0;\n      watchHistory.forEach((e, index, obj) => {\n        if (e.videoLinks === allLinks['videoLinks']) {\n          k++;\n          obj.splice(index, 1);\n          obj.unshift(allLinks);\n        }\n      });\n\n      if (k === 0) {\n        watchHistory.unshift(allLinks);\n      }\n    } else {\n      watchHistory = [];\n      watchHistory.push(allLinks);\n    }\n\n    localStorage.setItem('watchHistory', JSON.stringify(watchHistory));\n    setCurrentVideo(video.video_files[0].link);\n    setCurrentThumbnail(video.video_pictures[0].picture);\n    renderedRelatedVideos = relatedVideos.filter(f => f.id !== video.id).map(m => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relatedFlex\",\n        onClick: () => selectVideo(m),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relatedFlex__img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: m.video_pictures[0].picture,\n            alt: \"video thumbnail\",\n            width: \"168\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"related__title\",\n            children: \"Title of this video is Lorem Ipsum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"related__channel\",\n            children: \"Lorem ipsum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"related__views__date\",\n            children: \"7.3M views \\u2022 9 months ago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, m.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this);\n    });\n    console.log(renderedRelatedVideos);\n  };\n\n  let checkLink = {\n    'videoLinks': currentVideo,\n    'thumbnailLink': currentThumbnail\n  };\n  let initalLikes = JSON.parse(localStorage.getItem(\"likes\"));\n  let initalDislikes = JSON.parse(localStorage.getItem('dislikes'));\n  let initalSaves = JSON.parse(localStorage.getItem('watchLater'));\n\n  if (initalLikes) {\n    let j = 0;\n    initalLikes.forEach(e => {\n      if (e.videoLinks === checkLink['videoLinks']) {\n        j += 1;\n\n        if (likeRef.current) {\n          likeRef.current.classList.add('active');\n        }\n      }\n    });\n\n    if (j === 0) {\n      if (likeRef.current) {\n        likeRef.current.classList.remove('active');\n      }\n    }\n  }\n\n  if (initalDislikes) {\n    let j = 0;\n    initalDislikes.forEach(e => {\n      if (e === checkLink['videoLinks']) {\n        j += 1;\n\n        if (dislikeRef.current) {\n          dislikeRef.current.classList.add('active');\n        }\n      }\n    });\n\n    if (j === 0) {\n      if (dislikeRef.current) {\n        dislikeRef.current.classList.remove('active');\n      }\n    }\n  }\n\n  if (initalSaves) {\n    let j = 0;\n    initalSaves.forEach(s => {\n      if (s.videoLinks === checkLink['videoLinks']) {\n        j += 1;\n\n        if (saveRef.current) {\n          saveRef.current.classList.add('active');\n        }\n      }\n    });\n\n    if (j === 0) {\n      if (saveRef.current) {\n        saveRef.current.classList.remove('active');\n      }\n    }\n  }\n\n  let modalInterval;\n  let modalCntInterval;\n\n  const addModal = text => {\n    modalCntInterval = setTimeout(() => {\n      let modal = modalRef.current;\n      modal.textContent = text;\n      modal.style = \"transform: translateY(0);opacity:1\";\n      modal.parentElement.style = \"z-index:13\";\n      modalInterval = setTimeout(() => {\n        modal.style = \"transform: translateY(100%);opacity:0;\";\n        modal.parentElement.style = \"z-index:-1\";\n      }, 2000);\n    }, 500);\n  };\n\n  const onThumbClick = thumb => {\n    let modal = modalRef.current;\n\n    if (thumb.currentTarget.classList.contains('active')) {\n      thumb.currentTarget.classList.remove('active');\n      clearInterval(modalInterval);\n      clearInterval(modalCntInterval);\n      modal.style = \"transform: translateY(100%);opacity:0;\";\n      modal.parentElement.style = \"z-index:-1\";\n      let likes = JSON.parse(localStorage.getItem(\"likes\"));\n      let dislikes = JSON.parse(localStorage.getItem(\"dislikes\"));\n      likes.forEach((e, index, obj) => {\n        if (e.videoLinks === currentVideo) {\n          obj.splice(index, 1);\n        }\n      });\n      localStorage.setItem('likes', JSON.stringify(likes));\n      dislikes.forEach((e, index, obj) => {\n        if (e === currentVideo) {\n          obj.splice(index, 1);\n        }\n      });\n      localStorage.setItem('dislikes', JSON.stringify(dislikes));\n    } else {\n      document.querySelectorAll('.iframe__thumb.active').forEach(el => {\n        el.classList.remove('active');\n      });\n      thumb.currentTarget.classList.add('active');\n      modal.style = \"transform: translateY(100%);opacity:0\";\n      modal.parentElement.style = \"z-index:-1\";\n\n      if (thumb.currentTarget.classList.contains('iframe__like')) {\n        clearInterval(modalInterval);\n        clearInterval(modalCntInterval);\n        let allLinks = {\n          'videoLinks': currentVideo,\n          'thumbnailLink': currentThumbnail\n        };\n        let likes = JSON.parse(localStorage.getItem(\"likes\"));\n        let dislikes = JSON.parse(localStorage.getItem(\"dislikes\"));\n\n        if (likes) {\n          let k = 0;\n          likes.forEach(e => {\n            if (e.videoLinks === allLinks['videoLinks']) {\n              k++;\n            }\n          });\n\n          if (k === 0) {\n            likes.push(allLinks);\n          }\n        } else {\n          likes = [];\n          likes.push(allLinks);\n        }\n\n        if (dislikes) {\n          dislikes.forEach((e, index, obj) => {\n            if (e === currentVideo) {\n              obj.splice(index, 1);\n            }\n          });\n          localStorage.setItem('dislikes', JSON.stringify(dislikes));\n        }\n\n        localStorage.setItem('likes', JSON.stringify(likes));\n        addModal('Added to Liked Videos');\n      } else {\n        let likes = JSON.parse(localStorage.getItem(\"likes\"));\n\n        if (likes) {\n          likes.forEach((e, index, obj) => {\n            if (e.videoLinks === currentVideo) {\n              obj.splice(index, 1);\n            }\n          });\n          localStorage.setItem('likes', JSON.stringify(likes));\n        }\n\n        let dislikes = JSON.parse(localStorage.getItem('dislikes'));\n\n        if (dislikes) {\n          dislikes.push(currentVideo);\n        } else {\n          dislikes = [];\n          dislikes.push(currentVideo);\n        }\n\n        localStorage.setItem('dislikes', JSON.stringify(dislikes));\n        clearInterval(modalInterval);\n        clearInterval(modalCntInterval);\n        addModal('You dislike this video');\n      }\n    }\n  };\n\n  const saveBox = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"currentCover\",\n      onClick: e => onOutsideClick(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"currentCover__bckg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"currentCover__modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"currentCover__modal_close\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              setSaveBool(false);\n            },\n            ref: closeRef,\n            className: \"material-icons closeModal\",\n            children: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"currentCover__modal_flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"watchLater\",\n            id: \"watchLater\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            id: \"watchLaterLabel\",\n            htmlFor: \"watchLater\",\n            children: \"Watch Later\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }, this);\n  };\n\n  const onOutsideClick = e => {\n    if (e.target.classList.contains('currentCover__bckg')) {\n      setSaveBool(false);\n    }\n  };\n\n  const watchLaterFun = () => {\n    let watchLaterCheckBox = document.querySelector('#watchLater');\n\n    if (watchLaterCheckBox) {\n      if (saveRef.current.classList.contains('active')) {\n        watchLaterCheckBox.checked = true;\n      } else {\n        watchLaterCheckBox.checked = false;\n      }\n\n      watchLaterCheckBox.addEventListener('change', e => {\n        let watchLaterArray = JSON.parse(localStorage.getItem('watchLater'));\n        let allLinks = {\n          'videoLinks': currentVideo,\n          'thumbnailLink': currentThumbnail\n        };\n\n        if (e.target.checked) {\n          if (watchLaterArray) {\n            watchLaterArray.push(allLinks);\n          } else {\n            watchLaterArray = [];\n            watchLaterArray.push(allLinks);\n          }\n\n          localStorage.setItem('watchLater', JSON.stringify(watchLaterArray));\n          clearInterval(modalInterval);\n          clearInterval(modalCntInterval);\n          addModal('Saved to Watch Later');\n          saveRef.current.classList.add('active');\n        } else {\n          if (watchLaterArray) {\n            watchLaterArray.forEach((e, index, obj) => {\n              if (e.videoLinks === currentVideo) {\n                obj.splice(index, 1);\n              }\n            });\n            localStorage.setItem('watchLater', JSON.stringify(watchLaterArray));\n            clearInterval(modalInterval);\n            clearInterval(modalCntInterval);\n            let modal = modalRef.current;\n            modal.style = \"transform: translateY(100%);opacity:0\";\n            modal.parentElement.style = \"z-index:-1\";\n            saveRef.current.classList.remove('active');\n          }\n        }\n      });\n    }\n  };\n\n  const onSaveClick = () => {\n    setSaveBool(true);\n    let watchLaterCheckBox = document.querySelector('#watchLater');\n\n    if (watchLaterCheckBox) {\n      if (saveRef.current.classList.contains('active')) {\n        watchLaterCheckBox.checked = true;\n      } else {\n        watchLaterCheckBox.checked = false;\n      }\n\n      watchLaterCheckBox.addEventListener('change', e => {\n        let watchLaterArray = JSON.parse(localStorage.getItem('watchLater'));\n        let allLinks = {\n          'videoLinks': currentVideo,\n          'thumbnailLink': currentThumbnail\n        };\n\n        if (e.target.checked) {\n          if (watchLaterArray) {\n            watchLaterArray.push(allLinks);\n          } else {\n            watchLaterArray = [];\n            watchLaterArray.push(allLinks);\n          }\n\n          localStorage.setItem('watchLater', JSON.stringify(watchLaterArray));\n          clearInterval(modalInterval);\n          clearInterval(modalCntInterval);\n          addModal('Saved to Watch Later');\n          saveRef.current.classList.add('active');\n        } else {\n          if (watchLaterArray) {\n            watchLaterArray.forEach((e, index, obj) => {\n              if (e.videoLinks === currentVideo) {\n                obj.splice(index, 1);\n              }\n            });\n            localStorage.setItem('watchLater', JSON.stringify(watchLaterArray));\n            clearInterval(modalInterval);\n            clearInterval(modalCntInterval);\n            let modal = modalRef.current;\n            modal.style = \"transform: translateY(100%);opacity:0\";\n            modal.parentElement.style = \"z-index:-1\";\n            saveRef.current.classList.remove('active');\n          }\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [saveBool && saveBox(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"currentVideoFlex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"iframe\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"iframe__container\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            children: [/*#__PURE__*/_jsxDEV(\"source\", {\n              src: currentVideo,\n              type: \"video/mp4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"source\", {\n              src: currentVideo,\n              type: \"video/webm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 25\n            }, this)]\n          }, currentVideo, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"iframe__flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iframe__details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"iframe__title\",\n              children: \"Title of this video is Lorem Ipsum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"iframe__views__date\",\n              children: \"7.3M views \\u2022 Jan 31, 2021\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iframe__rate__cnt\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"iframe__thumb__flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"iframe__thumbCnt\",\n                children: [/*#__PURE__*/_jsxDEV(ThumbUpRoundedIcon, {\n                  ref: likeRef,\n                  className: \"iframe__thumb iframe__like\",\n                  onClick: e => {\n                    onThumbClick(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"31K\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"iframe__thumbCnt\",\n                children: [/*#__PURE__*/_jsxDEV(ThumbDownAltRoundedIcon, {\n                  ref: dislikeRef,\n                  style: {\n                    marginLeft: '15px'\n                  },\n                  className: \"iframe__thumb iframe__dislike\",\n                  onClick: e => {\n                    onThumbClick(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"5k\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"iframe__shareCnt\",\n              children: [/*#__PURE__*/_jsxDEV(ReplySharpIcon, {\n                className: \"shareIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"SHARE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: saveRef,\n              className: \"iframe__save\",\n              onClick: () => {\n                onSaveClick();\n              },\n              children: [/*#__PURE__*/_jsxDEV(PlaylistAddSharpIcon, {\n                className: \"saveIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"SAVE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"currentDetails\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"currentDetails__avatarCnt\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {\n                className: \"currentDetails__avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"currentDetails__channel\",\n                children: \"LoremiPsum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"currentDetails__sub\",\n                children: \"1.7M subscribers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"currentDetails__description\",\n                children: \"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsam tempore perspiciatis praesentium dolorum, reiciendis impedit! Saepe adipisci aspernatur vero culpa maiores rem dolor necessitatibus, vitae soluta aliquam reiciendis illum nisi voluptates ad voluptatum natus sit magnam, ipsam, laudantium tempora consectetur maxime! Odit iste, debitis minima ad iure hic libero beatae.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 29\n              }, this), open && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"currentDetails__description\",\n                children: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, rerum necessitatibus ducimus vel quos facilis, dolores doloremque sit voluptatum soluta provident voluptatem molestias! A, amet? Quaerat non vitae pariatur voluptatibus reprehenderit aspernatur natus magnam unde, corporis fuga. Aut autem obcaecati voluptas impedit! Natus, tempore? possimus, officiis hic reprehenderit non quibusdam optio facere ullam iste. Saepe consectetur mollitia molestias quas. Itaque.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"currentDetails__show\",\n                onClick: () => {\n                  setOpen(!open);\n                },\n                children: open ? 'SHOW LESS' : \"SHOW MORE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relatedCnt\",\n        children: relatedVideos.length === 0 ? skeletonList() : renderedRelatedVideos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modalCnt\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: modalRef,\n        className: \"modal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CurrentVideo, \"W4PLkyGZKxTzowpyyMCspnjgDUI=\");\n\n_c = CurrentVideo;\nexport default CurrentVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrentVideo\");","map":{"version":3,"sources":["C:/Users/giorgi/Desktop/youtube_clone2/src/components/CurrentVideo.js"],"names":["useRef","useState","useEffect","Youtube","ThumbUpRoundedIcon","ThumbDownAltRoundedIcon","ReplySharpIcon","PlaylistAddSharpIcon","AccountCircleIcon","CurrentVideo","props","likeRef","closeRef","dislikeRef","saveRef","modalRef","console","log","relatedVideos","setRelatedVideos","currentVideo","setCurrentVideo","location","state","videoLink","currentThumbnail","setCurrentThumbnail","thumbnailLink","saveBool","setSaveBool","open","setOpen","historyArray","JSON","parse","localStorage","getItem","videoLinks","getVal","res","get","params","per_page","data","videos","watchLaterFun","relatedVideosList","map","video","selectVideo","video_pictures","picture","id","skeletonList","skeletonArray","i","push","renderedRelatedVideos","allLinks","video_files","link","watchHistory","k","forEach","e","index","obj","splice","unshift","setItem","stringify","filter","f","m","checkLink","initalLikes","initalDislikes","initalSaves","j","current","classList","add","remove","s","modalInterval","modalCntInterval","addModal","text","setTimeout","modal","textContent","style","parentElement","onThumbClick","thumb","currentTarget","contains","clearInterval","likes","dislikes","document","querySelectorAll","el","saveBox","onOutsideClick","target","watchLaterCheckBox","querySelector","checked","addEventListener","watchLaterArray","onSaveClick","marginLeft","length"],"mappings":"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","sourcesContent":["import { useRef, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Youtube from \"../api/Youtube\";\r\nimport ThumbUpRoundedIcon from '@material-ui/icons/ThumbUpRounded';\r\nimport ThumbDownAltRoundedIcon from '@material-ui/icons/ThumbDownAltRounded';\r\nimport ReplySharpIcon from '@material-ui/icons/ReplySharp';\r\nimport PlaylistAddSharpIcon from '@material-ui/icons/PlaylistAddSharp';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nconst CurrentVideo = ({props}) => {\r\n    const likeRef = useRef(null)\r\n    const closeRef = useRef(null)\r\n    const dislikeRef = useRef(null)\r\n    const saveRef = useRef(null)\r\n    const modalRef = useRef(null)\r\n    console.log(props,'pr')\r\n    const [relatedVideos,setRelatedVideos] = useState([]);\r\n    const [currentVideo,setCurrentVideo] = useState(props.location.state.videoLink);\r\n    const [currentThumbnail,setCurrentThumbnail] = useState(props.location.state.thumbnailLink);\r\n    const [saveBool,setSaveBool] = useState(false)\r\n    const [open,setOpen] = useState(false)\r\n\r\n    \r\n\r\n    const historyArray = JSON.parse(localStorage.getItem(\"watchHistory\"))\r\n    console.log(historyArray[0])\r\n    if(!currentVideo || !currentThumbnail){\r\n        setCurrentVideo(historyArray[0].videoLinks)\r\n        setCurrentThumbnail(historyArray[0].thumbnailLink)\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        const getVal = async () =>{\r\n\r\n            const res = await Youtube.get('/popular',{params:{per_page:3}})\r\n            setRelatedVideos(res.data.videos)\r\n\r\n        } \r\n        getVal()\r\n\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(saveBool){\r\n            watchLaterFun()\r\n        }\r\n    },[saveBool])\r\n\r\n    const relatedVideosList = () =>{\r\n        return relatedVideos.map((video)=>{\r\n\r\n            return(\r\n                <div key={video.id} className=\"relatedFlex\" onClick={()=>selectVideo(video)}>\r\n                    <div className=\"relatedFlex__img\"><img src={video.video_pictures[0].picture} alt=\"video thumbnail\" width=\"168\" /></div>\r\n                    <div className=\"related\">\r\n                        <p className=\"related__title\">Title of this video is Lorem Ipsum</p>\r\n                        <p className=\"related__channel\">Lorem ipsum</p>\r\n                        <div className=\"related__views__date\">7.3M views  9 months ago</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n\r\n            })\r\n    }\r\n\r\n    const skeletonList = () =>{\r\n        let skeletonArray = [];\r\n        for(let i=0;i<3;i++){\r\n            skeletonArray.push(\r\n                <div key={i} className=\"skeletonFlex\">\r\n                    <div className=\"skeletonFlex__img\">\r\n                        <div></div>\r\n                    </div>\r\n                    <div className=\"skeletonRelated\">\r\n                        <p className=\"skeletonRelated__title\"></p>\r\n                        <p className=\"skeletonRelated__channel\"></p>\r\n                        <div className=\"skeletonRelated__views__date\"></div>\r\n                    </div>\r\n                </div>\r\n                )\r\n        }\r\n        return skeletonArray;\r\n    }\r\n\r\n    let renderedRelatedVideos;\r\n\r\n    const selectVideo = (video) =>{\r\n\r\n        let allLinks = { 'videoLinks': video.video_files[0].link, 'thumbnailLink': video.video_pictures[0].picture};\r\n        let watchHistory = JSON.parse(localStorage.getItem(\"watchHistory\"))\r\n\r\n        if(watchHistory){\r\n            let k = 0;\r\n            watchHistory.forEach((e,index,obj)=>{\r\n                if(e.videoLinks === allLinks['videoLinks']){\r\n                    k++;\r\n                    obj.splice(index,1)\r\n                    obj.unshift(allLinks)\r\n                    \r\n                }\r\n            })\r\n\r\n            if(k === 0){\r\n                watchHistory.unshift(allLinks)\r\n            }\r\n            \r\n        }\r\n\r\n        else{\r\n            watchHistory = [];\r\n            watchHistory.push(allLinks)\r\n        }\r\n\r\n        localStorage.setItem('watchHistory',JSON.stringify(watchHistory))\r\n\r\n        setCurrentVideo(video.video_files[0].link)\r\n        setCurrentThumbnail(video.video_pictures[0].picture)\r\n\r\n        renderedRelatedVideos = relatedVideos.filter(f=>f.id !== video.id).map((m)=>{\r\n\r\n            return(\r\n                <div key={m.id} className=\"relatedFlex\" onClick={()=>selectVideo(m)}>\r\n                    <div className=\"relatedFlex__img\"><img src={m.video_pictures[0].picture} alt=\"video thumbnail\" width=\"168\" /></div>\r\n                    <div className=\"related\">\r\n                        <p className=\"related__title\">Title of this video is Lorem Ipsum</p>\r\n                        <p className=\"related__channel\">Lorem ipsum</p>\r\n                        <div className=\"related__views__date\">7.3M views  9 months ago</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n\r\n            })\r\n            console.log(renderedRelatedVideos);\r\n    }\r\n\r\n    let checkLink = { 'videoLinks': currentVideo, 'thumbnailLink': currentThumbnail};\r\n    let initalLikes = JSON.parse(localStorage.getItem(\"likes\"))\r\n    let initalDislikes = JSON.parse(localStorage.getItem('dislikes'))\r\n    let initalSaves = JSON.parse(localStorage.getItem('watchLater'))\r\n\r\n    if(initalLikes){\r\n        let j=0;\r\n        initalLikes.forEach(e=>{\r\n            \r\n            if(e.videoLinks === checkLink['videoLinks']){\r\n                j+=1;\r\n\r\n                    if(likeRef.current){\r\n                        likeRef.current.classList.add('active')\r\n                    }\r\n            }\r\n\r\n        })\r\n        if(j === 0){\r\n\r\n            if(likeRef.current){\r\n                likeRef.current.classList.remove('active')\r\n            }\r\n        }\r\n    }\r\n\r\n    if(initalDislikes){\r\n        let j=0;\r\n        initalDislikes.forEach(e=>{\r\n            \r\n            if(e === checkLink['videoLinks']){\r\n                j+=1;\r\n                if(dislikeRef.current){\r\n                    dislikeRef.current.classList.add('active')\r\n                }\r\n            }\r\n\r\n        })\r\n        if(j === 0){\r\n            if(dislikeRef.current){\r\n                dislikeRef.current.classList.remove('active')\r\n            }\r\n        }\r\n    }\r\n\r\n    if(initalSaves){\r\n        let j=0;\r\n        initalSaves.forEach(s=>{\r\n            if(s.videoLinks === checkLink['videoLinks']){\r\n                j+=1;\r\n                if(saveRef.current){\r\n                    saveRef.current.classList.add('active')\r\n                }\r\n            }\r\n\r\n        })\r\n\r\n        if(j === 0){\r\n            if(saveRef.current){\r\n                saveRef.current.classList.remove('active')\r\n            }\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    let modalInterval;\r\n    let modalCntInterval;\r\n    const addModal = (text) => {\r\n        modalCntInterval = setTimeout(()=>{\r\n            let modal = modalRef.current;\r\n            modal.textContent = text;\r\n            modal.style=\"transform: translateY(0);opacity:1\";\r\n            modal.parentElement.style=\"z-index:13\";\r\n            modalInterval = setTimeout(()=>{\r\n                modal.style=\"transform: translateY(100%);opacity:0;\";\r\n                modal.parentElement.style = \"z-index:-1\"\r\n            },2000)\r\n        },500)\r\n\r\n    }\r\n\r\n\r\n\r\n    const onThumbClick = (thumb) =>{\r\n            let modal = modalRef.current;\r\n\r\n            if(thumb.currentTarget.classList.contains('active')){\r\n\r\n                thumb.currentTarget.classList.remove('active')\r\n                clearInterval(modalInterval);\r\n                clearInterval(modalCntInterval)\r\n                modal.style=\"transform: translateY(100%);opacity:0;\";\r\n                modal.parentElement.style = \"z-index:-1\"\r\n                let likes = JSON.parse(localStorage.getItem(\"likes\"))\r\n                let dislikes = JSON.parse(localStorage.getItem(\"dislikes\"))\r\n                likes.forEach((e,index,obj)=>{\r\n                    if(e.videoLinks === currentVideo){\r\n                        obj.splice(index,1)\r\n                    }\r\n                })\r\n                localStorage.setItem('likes',JSON.stringify(likes))\r\n\r\n                dislikes.forEach((e,index,obj)=>{\r\n                    if(e === currentVideo){\r\n                        obj.splice(index,1)\r\n                    }\r\n                })\r\n                localStorage.setItem('dislikes',JSON.stringify(dislikes))\r\n            }\r\n            else{\r\n\r\n                document.querySelectorAll('.iframe__thumb.active').forEach(el=>{\r\n                    el.classList.remove('active')\r\n                })\r\n\r\n                thumb.currentTarget.classList.add('active')\r\n                modal.style=\"transform: translateY(100%);opacity:0\";\r\n                modal.parentElement.style = \"z-index:-1\"\r\n\r\n                if(thumb.currentTarget.classList.contains('iframe__like')){\r\n                    clearInterval(modalInterval);\r\n                    clearInterval(modalCntInterval)\r\n\r\n                    let allLinks = { 'videoLinks': currentVideo, 'thumbnailLink': currentThumbnail};\r\n                    let likes = JSON.parse(localStorage.getItem(\"likes\"))\r\n                    let dislikes = JSON.parse(localStorage.getItem(\"dislikes\"))\r\n\r\n                    if(likes){\r\n                        let k = 0;\r\n                        likes.forEach(e=>{\r\n                            if(e.videoLinks === allLinks['videoLinks']){\r\n                                k++;\r\n                            }\r\n                        })\r\n\r\n                        if(k === 0){\r\n                            likes.push(allLinks)\r\n                        }\r\n                        \r\n                    }\r\n\r\n                    else{\r\n                        likes = [];\r\n                        likes.push(allLinks)\r\n                    }\r\n\r\n                    if(dislikes){\r\n                        dislikes.forEach((e,index,obj)=>{\r\n                            if(e === currentVideo){\r\n                                obj.splice(index,1)\r\n                            }\r\n                        })\r\n                        localStorage.setItem('dislikes',JSON.stringify(dislikes))\r\n                    }\r\n\r\n\r\n                    localStorage.setItem('likes',JSON.stringify(likes))\r\n                    addModal('Added to Liked Videos')\r\n                }\r\n                else{\r\n                    let likes = JSON.parse(localStorage.getItem(\"likes\"))\r\n                    if(likes){\r\n                        likes.forEach((e,index,obj)=>{\r\n                            if(e.videoLinks === currentVideo){\r\n                                obj.splice(index,1)\r\n                            }\r\n                        })\r\n                        localStorage.setItem('likes',JSON.stringify(likes))\r\n                    }\r\n\r\n                    let dislikes = JSON.parse(localStorage.getItem('dislikes'));\r\n\r\n                    if(dislikes){\r\n                        dislikes.push(currentVideo)\r\n                    }\r\n                    else{\r\n                        dislikes = [];\r\n                        dislikes.push(currentVideo)\r\n                    }\r\n\r\n                    localStorage.setItem('dislikes',JSON.stringify(dislikes))\r\n                    clearInterval(modalInterval);\r\n                    clearInterval(modalCntInterval)\r\n                    addModal('You dislike this video')\r\n                }\r\n\r\n            }\r\n        \r\n    }\r\n    const saveBox = ()=>{\r\n\r\n        return(\r\n            <div className=\"currentCover\" onClick={(e)=>onOutsideClick(e)}>\r\n                <div className=\"currentCover__bckg\"></div>\r\n                <div className=\"currentCover__modal\">\r\n                    <div className=\"currentCover__modal_close\"><i onClick={()=>{setSaveBool(false)}} ref={closeRef} className=\"material-icons closeModal\">close</i></div>\r\n                    <div className=\"currentCover__modal_flex\">\r\n                    <input type=\"checkbox\" name=\"watchLater\" id=\"watchLater\"/>\r\n                    <label id=\"watchLaterLabel\" htmlFor=\"watchLater\">Watch Later</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n        \r\n    }\r\n    \r\n    const onOutsideClick = (e) =>{\r\n        if(e.target.classList.contains('currentCover__bckg')){\r\n            setSaveBool(false)\r\n        }\r\n    }\r\n\r\n    const watchLaterFun = ()=>{\r\n        let watchLaterCheckBox = document.querySelector('#watchLater')\r\n        if(watchLaterCheckBox){\r\n            if(saveRef.current.classList.contains('active')){\r\n                watchLaterCheckBox.checked = true;\r\n            }\r\n            else{\r\n                watchLaterCheckBox.checked = false;\r\n            }\r\n            watchLaterCheckBox.addEventListener('change',(e)=>{\r\n                let watchLaterArray = JSON.parse(localStorage.getItem('watchLater'))\r\n                let allLinks = { 'videoLinks': currentVideo, 'thumbnailLink': currentThumbnail};\r\n    \r\n                if(e.target.checked){\r\n                    if(watchLaterArray){\r\n                        watchLaterArray.push(allLinks)\r\n                    }\r\n                    else{\r\n                        watchLaterArray = []\r\n                        watchLaterArray.push(allLinks)\r\n                    }\r\n                    localStorage.setItem('watchLater',JSON.stringify(watchLaterArray))\r\n                    clearInterval(modalInterval);\r\n                    clearInterval(modalCntInterval)\r\n                    addModal('Saved to Watch Later')\r\n                    saveRef.current.classList.add('active')\r\n                }\r\n                else{\r\n                    if(watchLaterArray){\r\n                        watchLaterArray.forEach((e,index,obj)=>{\r\n                            if(e.videoLinks === currentVideo){\r\n                                obj.splice(index,1)\r\n                            }\r\n                        })\r\n                        localStorage.setItem('watchLater',JSON.stringify(watchLaterArray))\r\n                        clearInterval(modalInterval);\r\n                        clearInterval(modalCntInterval)\r\n                        let modal = modalRef.current;\r\n                        modal.style=\"transform: translateY(100%);opacity:0\";\r\n                        modal.parentElement.style = \"z-index:-1\"\r\n                        saveRef.current.classList.remove('active')\r\n                    }\r\n    \r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const onSaveClick = () => {\r\n\r\n        setSaveBool(true)\r\n\r\n        let watchLaterCheckBox = document.querySelector('#watchLater')\r\n        if(watchLaterCheckBox){\r\n            if(saveRef.current.classList.contains('active')){\r\n                watchLaterCheckBox.checked = true;\r\n            }\r\n            else{\r\n                watchLaterCheckBox.checked = false;\r\n            }\r\n            watchLaterCheckBox.addEventListener('change',(e)=>{\r\n                let watchLaterArray = JSON.parse(localStorage.getItem('watchLater'))\r\n                let allLinks = { 'videoLinks': currentVideo, 'thumbnailLink': currentThumbnail};\r\n\r\n                if(e.target.checked){\r\n                    if(watchLaterArray){\r\n                        watchLaterArray.push(allLinks)\r\n                    }\r\n                    else{\r\n                        watchLaterArray = []\r\n                        watchLaterArray.push(allLinks)\r\n                    }\r\n                    localStorage.setItem('watchLater',JSON.stringify(watchLaterArray))\r\n                    clearInterval(modalInterval);\r\n                    clearInterval(modalCntInterval)\r\n                    addModal('Saved to Watch Later')\r\n                    saveRef.current.classList.add('active')\r\n                }\r\n                else{\r\n                    if(watchLaterArray){\r\n                        watchLaterArray.forEach((e,index,obj)=>{\r\n                            if(e.videoLinks === currentVideo){\r\n                                obj.splice(index,1)\r\n                            }\r\n                        })\r\n                        localStorage.setItem('watchLater',JSON.stringify(watchLaterArray))\r\n                        clearInterval(modalInterval);\r\n                        clearInterval(modalCntInterval)\r\n                        let modal = modalRef.current;\r\n                        modal.style=\"transform: translateY(100%);opacity:0\";\r\n                        modal.parentElement.style = \"z-index:-1\"\r\n                        saveRef.current.classList.remove('active')\r\n                    }\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return ( \r\n        <>\r\n        {saveBool && saveBox()}\r\n        <div className=\"currentVideoFlex\">\r\n\r\n            <div className=\"iframe\">\r\n                <div className=\"iframe__container\">\r\n\r\n                    <video controls key={currentVideo}>\r\n                        <source src={currentVideo} type=\"video/mp4\" />\r\n                        <source src={currentVideo} type=\"video/webm\" />\r\n                    </video>\r\n                </div>\r\n                <div className=\"iframe__flex\">\r\n                    <div className=\"iframe__details\">\r\n                        <p className=\"iframe__title\">Title of this video is Lorem Ipsum</p>\r\n                        <p className=\"iframe__views__date\">7.3M views  Jan 31, 2021</p>\r\n                    </div>\r\n                    <div className=\"iframe__rate__cnt\">\r\n                        <div className=\"iframe__thumb__flex\">\r\n                            <div className=\"iframe__thumbCnt\">\r\n                            <ThumbUpRoundedIcon ref={likeRef} className=\"iframe__thumb iframe__like\" onClick={(e)=>{onThumbClick(e)}}/>\r\n                            <span>31K</span>\r\n                            </div>\r\n                            <div className=\"iframe__thumbCnt\">\r\n                            <ThumbDownAltRoundedIcon ref={dislikeRef} style={{marginLeft:'15px'}} className=\"iframe__thumb iframe__dislike\" onClick={(e)=>{onThumbClick(e)}}/>\r\n                            <span>5k</span>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"iframe__shareCnt\">\r\n                                <ReplySharpIcon className=\"shareIcon\"/>\r\n                                <span>SHARE</span>\r\n                        </div>\r\n                        <div ref={saveRef} className=\"iframe__save\" onClick={()=>{onSaveClick()}}>\r\n                            <PlaylistAddSharpIcon className=\"saveIcon\"/>\r\n                            <span>SAVE</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"currentDetails\">\r\n                    <div className=\"currentDetails__avatarCnt\">\r\n                        <div>\r\n                        <AccountCircleIcon className=\"currentDetails__avatar\"/>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <p className=\"currentDetails__channel\">LoremiPsum</p>\r\n                            <div className=\"currentDetails__sub\">1.7M subscribers</div>\r\n                            <p className=\"currentDetails__description\">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsam tempore perspiciatis praesentium dolorum, reiciendis impedit! Saepe adipisci aspernatur vero culpa maiores rem dolor necessitatibus, vitae soluta aliquam reiciendis illum nisi voluptates ad voluptatum natus sit magnam, ipsam, laudantium tempora consectetur maxime! Odit iste, debitis minima ad iure hic libero beatae.</p>\r\n                            {open && <p className=\"currentDetails__description\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, rerum necessitatibus ducimus vel quos facilis, dolores doloremque sit voluptatum soluta provident voluptatem molestias! A, amet? Quaerat non vitae pariatur voluptatibus reprehenderit aspernatur natus magnam unde, corporis fuga. Aut autem obcaecati voluptas impedit! Natus, tempore? possimus, officiis hic reprehenderit non quibusdam optio facere ullam iste. Saepe consectetur mollitia molestias quas. Itaque.</p>}\r\n                            <div className=\"currentDetails__show\" onClick={()=>{setOpen(!open)}}>{open ? 'SHOW LESS' : \"SHOW MORE\"}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"relatedCnt\">\r\n            {relatedVideos.length === 0 ? skeletonList() : renderedRelatedVideos}\r\n            </div>\r\n\r\n        </div>\r\n        <div className=\"modalCnt\"><div ref={modalRef} className=\"modal\"></div></div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default CurrentVideo;"]},"metadata":{},"sourceType":"module"}